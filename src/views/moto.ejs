<!DOCTYPE html>
<html lang="en">
  <head>
    <%- include('./components/header'); %>
    <link rel="stylesheet" href="/vendors/albe-timeline/css/jquery-albe-timeline.css" />
  </head>
  <body>
    <header><%- include('./components/navbar'); %></header>
    <div class="wrapper mt-nav-height">
      <main class="container p-3">
        <div class="card mb-3">
          <div class="d-flex card-header justify-content-between align-items-center">
            <span>顧客資訊</span>
            <button id="edit-moto" class="btn btn-outline-warning btn-sm" type="button">
              <i class="bi bi-pencil-square"></i>編輯
            </button>
          </div>
          <div class="card-body">
            <div class="row text-nowrap">
              <div class="visually-hidden">
                <div class="fw-bold">id</div>
                <div id="id" class="visually-hidden"><%=moto._id %></div>
                <div id="moto" class="visually-hidden"><%=JSON.stringify(moto) %></div>
              </div>
              <div class="col col-md-3 border p-1">
                <div class="fw-bold">機車車牌</div>
                <div id="license_no"><%=moto.license_no %></div>
              </div>
              <div class="col col-md-3 border p-1">
                <div class="fw-bold">顧客稱呼</div>
                <div id="owner_name"><%=moto.owner_name %></div>
              </div>
              <div class="col col-md-3 border p-1">
                <div class="fw-bold">聯絡方式</div>
                <!--如果moto.owner_phone為空，則顯示"不提供"-->
                <% if (moto.owner_phone === '') { %>
                <div id="owner_phone">不提供</div>
                <% } else { %>
                <div id="owner_phone"><%=moto.owner_phone %></div>
                <% } %>
              </div>
              <div class="col col-md-3 border p-1">
                <div class="fw-bold">生日</div>
                <div>
                  <!--如果moto.owner_birthmonth或moto.owner_birthday等於0，則顯示"不提供"-->
                  <% if (moto.owner_birthmonth === 0 || moto.owner_birthday === 0) { %>
                  <span>不提供</span>
                  <% } else { %>
                  <span id="owner_birthmonth"><%=moto.owner_birthmonth %></span>
                  /
                  <span id="owner_birthday"><%=moto.owner_birthday %></span>
                  <% } %>
                </div>
              </div>
              <div class="col col-md-6 border p-1">
                <div class="fw-bold">會員組</div>
                <div>
                  <% if (moto.owner_type === 'new') { %>
                  <span>新會員</span>
                  <i class="bi bi-trophy-fill text-gray-900"></i>
                  <% } else if (moto.owner_type === 'bronze') { %>
                  <span>銅牌會員</span>
                  <i class="bi bi-trophy-fill text-bronze"></i>
                  <% } else if (moto.owner_type === 'silver') { %>
                  <span>銀牌會員</span>
                  <i class="bi bi-trophy-fill text-silver"></i>
                  <% } else if (moto.owner_type === 'gold') { %>
                  <span>金牌會員</span>
                  <i class="bi bi-trophy-fill text-gold"></i>
                  <% } else { %>
                  <span>未知</span>
                  <% } %>
                </div>
              </div>
              <div class="col col-md-6 border p-1">
                <div class="fw-bold">上次來店</div>
                <div><%=moto.updatedAt %></div>
              </div>
            </div>
          </div>
        </div>
        <div class="card">
          <div class="d-flex card-header justify-content-between align-items-center">
            <span>來店時間軸</span>
            <button id="add-timeline" class="btn btn-outline-success btn-sm" type="button">
              <i class="bi bi-plus"></i>新增
            </button>
          </div>
          <div class="card-body" style="background-color: #efefef">
            <div class="">
              <div id="myTimeline"></div>
            </div>
          </div>
        </div>
      </main>
    </div>
    <%- include('./components/footer'); %>
    <script src="/vendors/jquery/jquery.min.js"></script>
    <script src="/vendors/bootstrap/js/bootstrap.bundle.min.js"></script>
    <script src="/javascripts/moto/index.js"></script>
    <script src="/vendors/sweetalert2/sweetalert2@11.js"></script>
    <script src="/vendors/albe-timeline/js/jquery-albe-timeline.js"></script>
  </body>
</html>
